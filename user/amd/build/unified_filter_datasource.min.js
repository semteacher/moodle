define(["jquery","core/ajax","core/notification"],function(a,b,c){return{list:function(b,c){var d=[],e=a(b),f=a(b).data("originaloptionsjson"),g=e.val(),h=[];a.each(g,function(a,b){var c=b.split(":",2);if(2===c.length){var d=c[0];h.push(d)}}),a.each(f,function(b,e){if(""!==a.trim(c)&&e.label.toLocaleLowerCase().indexOf(c.toLocaleLowerCase())===-1)return!0;if(a.inArray(e.value,g)>-1)return!0;var f=e.value.split(":",2);if(2===f.length){var i=f[0];if(a.inArray(i,h)>-1)return!0}return d.push(e),!0});var i=new a.Deferred;return i.resolve(d),i.promise()},processResults:function(b,c){var d=[];return a.each(c,function(a,b){d.push({value:b.value,label:b.label})}),d},transport:function(a,b,d){this.list(a,b).then(d)["catch"](c.exception)}}});